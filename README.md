# The Dial-in Project
---
The Dial-in project is a simple video-game-alike simulation for learning how to dial in coffee. If you'd like to know more about coffee, check the wiki link :

[About Coffee](https://github.com/BobRossMug/The-Dial-in-Project/wiki)

## Disclaimer : Project is ready for grading

---

## Content and Hyperlinks 
- [The Tasks (AKA project requirements / T1-15 / Software Engineering Tasks)](#list-of-tasks-software-engineering)
- [Wiki](https://github.com/BobRossMug/The-Dial-in-Project/wiki)
- [Git History](https://github.com/BobRossMug/The-Dial-in-Project/wiki/_history)
- [Additional Pictures / Stories](https://github.com/BobRossMug/The-Dial-in-Project/wiki/Pictures-and-cool-Stuff--PLUS--Some-stories)

---

## A ) Project Description
The Dial-in project is a simple video-game-alike simulation for learning how to dial in coffee with an espresso machine. Having worked in the industry for a couple long years and done it as a hobby longer than that, I know a thing or two about good espresso, and hopefully this project will be a nice bridge for those who want to get into the hobby. 

There are similar applications to this, but they are mostly for tracking extraction data, not simulating it. This projects aim is to teach about the process, rather than help with it. 

The project as a whole was written with C#, using Unity as a game engine.


## B ) List of Tasks (Software Engineering) :exclamation::exclamation::exclamation: 
## Task :one: : Use and Understand GIT :white_check_mark:
### Task Description : Use and understand GIT, and be able to apply the basic commands. Can you experiment with time travelling or branches/merges? E.g. add some screenshots, add a paragraph text or show by reference/link into the commits, that you applied all the commands.
---
I used Git as console and as the desktop app extensively thoughout the project. Though I did not use multiple computers or collaborate on the project file it has certainly made things more organized. Below are some screenshots:

![git 2](https://github.com/user-attachments/assets/27f0a7e9-def1-40c5-bf3f-9a994a986988)

I have some previous experience with using the console so I've also tried out the desktop app. This is also very convenient. Most necessary functions were easy to find.

![Git Desktop app](https://github.com/user-attachments/assets/a8e93465-d97c-4166-9f4e-a001fc861408)

Here is me merging branches, tried something out with one of the scripts, decided to keep it. For this particular use case I am unsure if it's more convenient then commenting code out.

![branch merging](https://github.com/user-attachments/assets/de48b5ae-3475-45a8-930d-cc40da15fc61)

## Task :two: : UML :white_check_mark: 
### Task Description : at least 3 big different diagrams. "big" means you can pump it up artificially as written in DDD. You have 10 million $ from me! Please export the pics. I can not install all the tools to view them! For example, these diagrams are a good idea: Use-Case, Component D, Class D, and Activity Diagram.
---
The project has 3 UML diagrams, for which I used Lucidchart. You can find them below : 

Class Diagram 
![UML - Class Diagram](https://github.com/user-attachments/assets/22317317-f4e6-40ff-bb77-ca3d6e3bc37b)

Use Case Diagram 
![usecase new](https://github.com/user-attachments/assets/4708df8b-185c-4e9c-ad2b-645c449b7701)


Activity Diagram 
![UML - Activity Diagram](https://github.com/user-attachments/assets/915f57dc-3daa-4040-b56f-0be5727edb1c)



## Task :three: : REQUIREMENTS :white_check_mark: 
### Task Description : Create 5-10 good requirements for your project. Then put them into a simple tool (like Airtable, Notion or Trello) and a professional tool (like Monday, Jira, Doors, ObjectIF, Xebrio, etc.) Instead of the professional version, you can also build a tool yourself; e.g. with AI! If you have used AI / LLMs here, briefly describe where and how! However, it is more important here that some / many attributes are used!
---

Simple tool : Trello 
![trello board](https://github.com/user-attachments/assets/cd7739c7-9c62-49ca-8856-45ba3bd41673)
[Here is also the link for the Trello board](https://trello.com/invite/b/67591b50f4f7e137060a1fc9/ATTI8582e8ce784d54b19dd387ec1e89891c4EE53CAC/the-dial-in-project) (I hope it is public now, please excuse me if not)

Advanced Tool : Jira
![Jira](https://github.com/user-attachments/assets/04c2d0f0-4192-4934-87f0-30ce22792ef0)
[Here is also a link for the Jira board](https://s-eng.atlassian.net/jira/software/projects/KAN/boards/1?atlOrigin=eyJpIjoiZjU4MzZiM2EzMTQ5NDkxMWFkMDY0Y2QzNzdjOTUyYzIiLCJwIjoiaiJ9) (I hope it is public now, please excuse me if not No. 2)

## Task :four: : ANALYSIS :white_check_mark: 
### Task Description : A) Think about your checklist (on an extra A4 page) from all the points of the ‘ANA - Analysis’ learning unit, with the points that you consider relevant for your project (e.g. 10-15 instead of 30 on the overall picture) B) Carry out an analysis of your semester project / your favourite project. Or have a start-up idea and would like to hand in the start-up analysis as part of a large documentary! There should be at least 2 pages. Take the 10-15 points from the checklist (with e.g. 1-2 paragraphs per point). Assume that you will soon have a fishing rod for the start-up chapter. If you are successful, you would receive a lot of ‘money’ in order to be allowed to design and implement it later. So get your start-up off to a successful start! The use of large language models is explicitly encouraged here! However, don't try to solve everything with one prompt and then submit 10 pages: get specific help!Provide the prompts in brackets that have helped you to improve or structure something here! Please find the sweet spot between your own work/testing and content generation in order to learn something yourself throughout the entire process!
---
Below you can find my ANA check list : 
<pre>
1. Problem Definition                      2. Target Audience
3. Unique Selling Proposition (USP)        4. Competitor Analysis
5. Core Features                           6. Monetization Strategy
7. Technical Feasibility                   8. User Experience (UX) Design
9. Data Privacy and Security               10. Scalability
11. Market Validation                      12. Development Timeline
13. Risks and Challenges                   14. Innovation Potential
15. Future Expansion                       16. Market Analysis
17. Revenue Model                          18. Risk Analysis
19. Legal and Ethical Considerations       20. Stakeholder Analysis
</pre>

Please refer to this document for a detailed analysis. This document was initially generated with AI, but most of these parts have been removed. There is still some prompt related content in there though :   [ANA Software Eng..pdf](https://github.com/user-attachments/files/18549032/ANA.Software.Eng.pdf)



## Task :five: : DDD :white_check_mark: 
### Task Description : (A) Do an Event-Storming to find your Domains! If your domain is too small, invent other domains around and document these domains (as if you have 100 Mio € from Edlich-Investment!) (B). Drop your Domains into a Core Domain Chart (C) and indicate the Relations = Mappings (! see MIRO examples again) between the Domains in a new diagram!
---

Domain Mapping)

![Domain Mapping](https://github.com/user-attachments/assets/cb9972fb-93eb-486c-9325-b496dfa5b317)

Event Storming )

![UML class - Project Dial-in (3)](https://github.com/user-attachments/assets/011b14f8-a396-4759-9b4f-80f992f5b040)

Context and System Relations)

![Relations](https://github.com/user-attachments/assets/630f1ce4-2b48-4f05-9a35-332dba6a4ae3)

Initial Faux-Event-Storming-Relations-Map)

![WhatsApp Görsel 2025-01-20 saat 22 53 06_931e5ec3](https://github.com/user-attachments/assets/fd4d8cdb-91b0-4d0e-a60c-02f51787e23b)
This document above is obsolete but I still wanted to share

## Task :six: : METRICS :white_check_mark: 
### Task Description : at least two. Sonarcube would be great. Other non-trivial metrics are also fine. Run the tools, document the output with screenshots, and explain what these Metrics or e.g. style errors mean!
---
I used the built in Unity profiler to check for performance issues : 

This is on launch : 
![Metrics Unity profiler](https://github.com/user-attachments/assets/4b0cd7fe-3974-4e77-9a24-43f613888df2)

This is during coffee grinding : 
![metrics mid analysis](https://github.com/user-attachments/assets/15615d9c-d0f3-4bee-b35d-cb576727f75e)

The metrics in Unity here indicate that the billinear rendering on my faux-pixel art assets are problematic. Also on calling SimManager there is a sudden spike in CPU usage because of the nested DDOL in the code, as the intelliJ metric below indicate : 

![metric intelliJ](https://github.com/user-attachments/assets/7fc2b187-fbb3-4c40-99d5-8ac048b078c5)
As can be seen, I also made use of the intelliJ metrics tool while working on the project. I mostly used this to eliminate unused parts of the code and handling immutability for the sake of task 14. The image above is the final state of the inspector.


## Task :seven: : CLEAN CODE DEVELOPMENT :white_check_mark: 
### Task Description : A) At least 5 points you can show me with an explanation of why this is clean code in your code and/or what has improved & B) >>10 points on your personal CCD cheat sheet. E.g. a PDF.
---
Below are 5 examples of Clean Coding from what I've written for this project : 

### 1 - Meaningful Variable and Function Names : 
The variable and function names are self explanatory and descriptive. 
```csharp
public float brewTime = 5f;
public void StartBrewing() { /* Begins brewing */ }
```
*************************************************************************************************************************
### 2 - Single Responsibility Principle (SRP)
Scripts handle one specific responsibilty, or are otherwise modular.

`EspressoMachine` focuses on the brewing logic and is directly attached to the espresso machine asset in Unity
`GrindSettings` handles the grinder logic, its settings and how it handles the data sent to the brew module
`UIStuffs` Manages UI stuffs!

This makes the code modular and easy to maintain as well as develop. Each class is clearly defined as to what they do.
*************************************************************************************************************************
### 3 - Readable and Modular Logic
More complex logic (like in `GrindSettings`) is borken down to smaller, easy to call helper methods, below is an example of `CalculateTimePenalty()` :
```csharp
private float CalculateTimePenalty(float grindTimer, float penaltyMultiplier) {
    return grindTimer * penaltyMultiplier;
}
```
This improves readability, makes functions easier to work on, and also independently testable.
*************************************************************************************************************************
### 4 - Avoiding Nested Logic
Instead of nested conditionals, the code uses simpler logic that is concise and self explanatory. This is not only good practice in coding, but especially so for game development!
```csharp
if (currentBrewTimer >= brewTime) {FinishBrewing();}
```
*************************************************************************************************************************
### 5 - Consistent Formatting and Comments
The code is consistently formatted with proper indentation. Comments are also in the code to explain functions at a glance. 
```csharp
public void StartBrewing() {
    if (isBrewing) return;  // Prevent multiple brewing sessions.
    isBrewing = true;
    currentBrewTimer = 0f;
} /* end StartBrewing */ ///
```
This improves readability across the entirety of the code.
*************************************************************************************************************************

Here is my cheat sheet :  [Cheat Sheet.pdf](https://github.com/user-attachments/files/18549156/Cheat.Sheet.pdf)


## Task :eight: : REFACTORING :white_check_mark:
### Task Description : Show me two (non-trivial) Refactoring Examples of your code! Showing the original content and the refactored code! Explain what happened, why and how it has improved! Again: do not send me pure AI work!
---

`Example one :` Name Refactoring 
This is a simpler example of refactoring, but the GameManager script of the game was renamed to SimManager. GameManager is a typcial script to be found inside Unity as games as a way to control system variables for the game environment. I found this to be necessary as running everything inside the GameManager wasn't very optimal as mutliple assets requires this script to be initialised for their function. I also made a seperate GameManager script to handle those variables.

![refactor e1](https://github.com/user-attachments/assets/995044f4-2b1c-4a23-a28a-99faf9f85a20)


`Example two :`  Extract Method
This example is a function extract, as a way to call DontDestroyOnLoad in a more optimal manner. In Unity (before 2021.3.0) DDOL calls can have this error where it will not function properly if the script is attached to multiple obejcts. This method allows you to fix this.

![R2](https://github.com/user-attachments/assets/bb3636d3-40f7-493d-b5be-3025b999b27e)



## Task :nine: : BUILD :white_check_mark: 
### Task Description : Management with any Build System as Ant, Maven, Gradle, etc. (only Travis is perhaps not enough) Do e.g. generate Docs, call tests, etc. (it could also be disconnected from the project just to learn a build tool!) => to be merged with 7!
---
As I'm working wih Unity I could not utilize these build systems. But luckiy Unity has the BuildPipeline API, which is the same idea.

![Build](https://github.com/user-attachments/assets/9e9ab25a-81eb-44a9-b2a2-5899d248e0a9)

With Unity this doesn't really work well at all, as pretty much every game developed now goes through Steam. Thus build automation works with steamSDK better than anywhere else. But for this I'd need to set up a publish page and a SteamPipe. This costs 100 Euros. But although half functional, this scripting method also works. This is how a manual build screen looks like inside Unity : 

![BuildSettings](https://github.com/user-attachments/assets/a9aae7cc-4ab9-40df-9558-d7d99a78e80e)


## Task :one::zero: : CONTINOUS DELIVERY :red_circle: 
### Task Description : show me your pipeline using e.g. Jenkins, GitHub Actions, GitLab CI, etc. E.g. you can also use Jenkins Pipelining or BlueOcean, etc. But at least insert more than 2 script calls as done in the lecture! (e.g. also call Ant or Gradle or something else).
---

For this step I've unfortunately lost because of Unity. I set up a script for a pipeline but Unity's website seems to be unable to handle a license request for a personal account. I'm unsure if this is intentional on their end, but personal licenses do not seem to be functional for this purpose.
https://github.com/BobRossMug/The-Dial-in-Project/actions

I've spent approximately 8 hours on a seperate repository, and also with a different computer and a new Unity account to set this up to no avail. This is possible in SteamPipe with an automated activation using account mail and password. I've tried this here :

(https://github.com/BobRossMug/The-Dial-in-Project/commit/e292452f0d59b9dfcd919c91412e34188a685a8a)

![pipe](https://github.com/user-attachments/assets/bae18dcc-f09a-46c9-a296-3c07a7953b57)



## Task :one::one: : UNIT TESTS :white_check_mark:
### Task Description : Integrate some nice UNIT TESTS in your Code to be integrated into the Build!
---
For this step I've used the TestRunner in Unity (for edit and play modes) for a unit test, as well as manually with a script. Examples are below :

Example inside TestRunner : This one just checks everything is fucntional, it doesn't have any specifities. TestRunner is not very complicated as a tool in the free version of Unity.
![unittest unity](https://github.com/user-attachments/assets/dafc469c-c4fe-47f2-9bbe-bd9f4b00433d)

Example in code : Here I ran an enumeration test. This was the initial test script I wrote to see if everything works well with TestRunner. 
![RunTime Unity Test](https://github.com/user-attachments/assets/fb44cb69-0f6a-4da0-9346-63cbe04b926d)

Real example in code : Here is an actualy unit test that is useful. 
![ActualUnitTest](https://github.com/user-attachments/assets/73af1ddd-cd50-403c-ab44-35f627534bf3)


## Task :one::two: : IDE :white_check_mark:
### Task Description : Use a good IDE and get fluent with it: e.g. VSCode, IntelliJ. What are your favourite key shortcuts?!
---

I used intelliJ as my IDE, as it has been my default choice for the last 10 years. JetBrains Rider is a very powerful IDE to use alongside Unity. Here are my favorite shortcut : 

`Double Shift` : General search function. I use this mostly to switch between scripts 

`CTRL+Shift+E` : Navigate to recent. This is also useful to locate assets with attached scripts within unity straight from the code environment

`CTRL+K` : Commit! This is very useful. In Rider it automatically directs you to the commit message screen

`CTRL+Alt+Shift+T` Refactor "this". Useful when refactoring multiple things


## Task :one::three: : AI Coding :white_check_mark:
### Task Description : Set Up an AI-coding environment on your computer like ZED, Aider, free Cursor / Windsurf, GitHub Copilot programs, etc. (some have free tiers). Show your steps and personal experiences! 
---
This part was the most impressive for me. I was hesitant to do this at first but I assumed I may need some extra points, and installed Crusor AI. 

![CrusorAI](https://github.com/user-attachments/assets/432d2d40-59ce-42ab-a7d9-c66befbc651f)

In the example above my prompt was "Okay CrusorAI, I don't like copilot so I came here! Try and impress me." It did well.

There is a lot of contraversy regarding the use of AI applications and tools, even AI assistance with anythinga and everything at the moment. I am definetly not on the "AI will take our jobs" camp yet but I still try to avoid using these tools because I feel like they make me use my brain less. That is a good thing when you are working a 9 to 5 and you need some stuff prototyped FAST, but I would like to conisder myself to still be a learner. ChatGPT is a very useful tool to learn things, but integrating it directly onto the codebase where it can see everything and recommend the best outcomes makes it a better coder, but not me.

In the end I ended up liking it a lot, but I am still going to be concious about my AI consumption and maybe limit it to 1 hour a week at most.


## Task :one::four: : FUNCTIONAL PROGRAMMING :white_check_mark:
### Task Description : 14. prove that you have covered all functional aspects in your code as:, only final data structures, (mostly) side-effect-free functions, the use of higher-order functions, functions as parameters and return values, use closures / anonymous functions. You can also do it outside of your project. Even in other languages such as F#, Clojure, Julia, etc.

Below are 5 examples of Functional Coding from what I've written for this project : 

### 1 - Final Data Structures : 
Immutable data (contants, readonly and final variables)
```csharp
public class GrindSettings : MonoBehaviour{
    [Header("Grind Settings")]
    public readonly float idealGrindSize = 55f; // Final value, cannot change
    public float grindTime = 2.0f;

    public float CalculateGrindPenalty(float grindSize)
    {
        return Mathf.Abs(idealGrindSize - grindSize); // Pure function
    }
}
```
*************************************************************************************************************************
### 2 - Side Effect Free Functions
The code uses pure functions that do not alter external state.

```csharp
public void FinishGrinding() {
    float baseQuality = selectedBean.GetBaseQuality();
    float timePenalty = CalculateTimePenalty(currentGrindTimer, grindTimePenalty);
    float grindSizePenalty = CalculateGrindSizePenalty(idealGrindSize, grindSize);
    float finalGrindQuality = CalculateFinalGrindQuality(baseQuality, timePenalty, grindSizePenalty);

    // Update state separately
    SimManager.Instance.ModifyCoffeeQuality(finalGrindQuality);
}
```
*************************************************************************************************************************
### 3 - Higher Order Functions
Functions that take other functions as arguments or return functions
```csharp
// Higher-Order Function Example
public float ApplyPenalty(Func<float, float> penaltyFunction, float value){
    return penaltyFunction(value); // Apply the given function
}

// Usage
float timePenalty = ApplyPenalty(v => v * grindTimePenalty, currentGrindTimer);
```
*************************************************************************************************************************
### 4 - Closures and Anonymous Functions
Use of inline, lambda functions for specific logic. In Unity event Listeners are very useful for this.
```csharp
grindSizeSlider.onValueChanged.AddListener(value =>{
    grinder.grindSize = value;
    Debug.Log($"Grind size updated to {value}");
});
```
*************************************************************************************************************************
### 5 - Functions as Parameters/Return Values
Passing functions around for reuse or returning them.
```csharp
public Func<float, float> GetQualityModifier(float multiplier){
    return quality => quality * multiplier;
}

// the Function
Func<float, float> penaltyModifier = GetQualityModifier(0.9f);
float adjustedQuality = penaltyModifier(100f);
```
*************************************************************************************************************************
